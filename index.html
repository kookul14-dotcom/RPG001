<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Hex RPG: Legends</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div id="scene-title" class="scene active">
    <div class="title-container">
        <h1 class="game-title">HEX RPG</h1>
        <p class="click-start">Click to Start</p>
        <p style="color:#666; font-size:12px; margin-top:50px;">(이어하기: 데이터가 있으면 자동 로드)</p>
    </div>
</div>

<div id="scene-town" class="scene">
    <div class="town-header">
        <div class="town-name">평화로운 마을</div>
        <div class="resource-display">
            <span id="display-gold">💰 0</span>
            <span id="display-faith">✨ 0</span>
        </div>
    </div>
    <div class="town-content">
        <div class="town-grid">
            <button class="town-btn" id="btn-battle"><div class="btn-icon">⚔️</div><div class="btn-text">전장</div></button>
            <button class="town-btn" id="btn-inn"><div class="btn-icon">🍺</div><div class="btn-text">여관</div></button>
            <button class="town-btn" id="btn-tavern"><div class="btn-icon">🍷</div><div class="btn-text">선술집</div></button>
            <button class="town-btn" id="btn-blacksmith"><div class="btn-icon">⚒️</div><div class="btn-text">대장간</div></button>
            <button class="town-btn" id="btn-hero"><div class="btn-icon">🛡️</div><div class="btn-text">영웅 관리</div></button>
            <button class="town-btn" id="btn-sanctuary"><div class="btn-icon">👼</div><div class="btn-text">성소</div></button>
            <button class="town-btn danger" id="btn-reset"><div class="btn-icon">🪞</div><div class="btn-text">초기화</div></button>
        </div>
    </div>
</div>

<div id="scene-stage-select" class="scene">
    <div class="sub-header">
        <h2>전장 선택</h2>
        <button class="close-btn" id="btn-town-return-1">나가기</button>
    </div>
    <div class="chapter-list" id="chapter-list"></div>
    <div class="stage-list" id="stage-list"></div>
</div>

<div id="scene-battle" class="scene">
    <div id="game-frame">
        <div id="sidebar-left" class="panel">
            <div class="panel-header">Party List</div>
            <div id="party-list"></div>
        </div>
        <div id="viewport">
            <canvas id="gridCanvas" width="1920" height="1080"></canvas>
            <div id="overlay-layer"></div>
        </div>
        <div id="sidebar-right" class="panel">
            <div class="panel-header">Combat Log</div>
            <div id="log-box"><div id="log-content"></div></div>
            <div id="log-footer" style="padding:5px; border-top:1px solid #444; text-align:center;"></div>
        </div>
        <div id="bottom-panel" class="panel"></div>
    </div>
    
    <div id="battle-result-modal" class="modal">
        <div class="modal-content">
            <h2 id="battle-result-title">Victory!</h2>
            <p id="battle-result-desc">보상 획득!</p>
            <div class="modal-btns"></div>
        </div>
    </div>
</div>

<div id="scene-sub-menu" class="scene">
    <div class="sub-header">
        <div style="display:flex; align-items:center; gap:20px;">
            <h2 id="sub-menu-title" style="margin:0;">메뉴</h2>
            <span id="sub-menu-gold" style="color:gold; font-weight:bold; font-size:18px;">💰 0</span>
        </div>
        <button class="close-btn" id="btn-sub-close">나가기</button>
    </div>
    <div id="sub-menu-content" class="sub-content"></div>
</div>

<div id="global-tooltip" class="tooltip-box"></div>

<div id="system-modal" class="modal-overlay" style="display:none;">
    <div class="system-modal-box">
        <div class="sys-msg" id="sys-modal-msg">메시지</div>
        <div class="sys-btns" id="sys-modal-btns"></div>
    </div>
</div>

<script type="module" src="main.js"></script>
</body>
</html>
